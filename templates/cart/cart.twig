{% extends 'main.twig' %}

{% block title %}
  Корзина
{% endblock %}

{% block content %}
  <h2>
    Корзина
  </h2>
  {% for item in cart.getItems %}
    <div class="cart_item" data-id="{{ item.getProductId }}">
      <a href="/?c=product&a=card&id={{ item.getProductId }}">
        {{ item.getProduct.name }}
      </a>
      <br/>
      {{ item.getProduct.description }}
      <br/>
      <span class="count">{{ item.getCount }}</span> шт. - <span class="price">{{ item.getTotalPrice }}</span> руб.
      <br />
      <button class="remove_one_btn" data-id="{{ item.getProductId }}">
        удалить
      </button>
      <button class="remove_all_btn" data-id="{{ item.getProductId }}">
        удалить все
      </button>
    </div>
  {% endfor %}
  <br />
  <b>Итого:</b> <span id="cart_price">{{ cart.getTotalPrice }}</span> руб.
  <br/>
  <button class="clear_cart_btn">Очистить корзину</button>
  <br/>
  <br/>
  <hr />
  Для оформления заказа укажите имя и телефон.
  <form id="order_form" action="/?c=order&a=checkout" method="POST">
  <label>Имя: <input type="text" id="order_input_name" name="name"/></label>
  <br/>
  <label>Телефон: <input type="text" id="order_input_phone" name="phone"/></label>
  </form>
  <button id="order_ckeckout">Оформить заказ</button>
{% endblock %}
{% block script %}
  <script src='/cart.js'></script>
{% endblock %}
